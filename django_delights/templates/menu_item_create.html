{% extends 'base.html' %}

{% block head %}
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
  var form = document.getElementById('menu-item-form');
  var submitButton = document.getElementsByClassName('form--submitbutton')[0];

  // Überprüfe Änderungen im Formular
  form.addEventListener('change', function(event) {
    // Aktiviere den Button, wenn sich das Formular ändert
    submitButton.disabled = false;
    submitButton.style.backgroundColor = "#007F4F"
    submitButton.style.border = "2px solid #007F4F"
  });

});
</script>
{% endblock %}

{% block content %}
<h1 class="site--heading">Add<br>Menu</h1>
<div class="menu-items-form-container">
  <div class="form--form--container">
    <form id="menu-item-form" action="" method="POST">
      {% csrf_token %}
      <p>
        <label class="form--heading" for="id_menu_name">Name</label>
        <input class="form--inputbox" type="text" name="menu_name" maxlength="100" id="id_menu_name" value="" required/>
      </p>

      <p>
        <label class="form--heading" for="id_menu_price">Price</label>
        <input class="form--inputbox" type="number" name="menu_price" step="any" id="id_menu_price" value="" required/>
      </p>

      <p>
        <label class="form--heading" for="id_menu_ingredients">Ingredients</label>
        <textarea class="form--inputbox" name="menu_ingredients" cols="40" rows="7" id="id_menu_ingredients" required></textarea>
      </p>  

      <div class="form--button--container">
        <input class="form--submitbutton" type="submit" value="Create Menu" disabled/>
        <a href="{% url 'menu_items' %}" class="cancel--create--button">Cancel</a>
      </div>
    </form>
  </div>
</div>

{% for msg in messages %}
<div class="infobox--container">
  <div class="infobox--content">
    <div class="infobox--success">
      <h1>{{ msg }}</h1>
      <span class="infobox--close--button" onclick="this.parentElement.style.display='none';">&times;</span>
    </div>
  </div>
</div>
{% endfor %}
{% endblock %}